{"version":3,"file":"static/js/100.809aec30.chunk.js","mappings":"qLACA,GAAgB,OAAS,+BAA+B,KAAO,6BAA6B,OAAS,gC,kBCmErG,MA/DA,WACE,IAAMA,GAAQC,EAAAA,EAAAA,IAAmB,QACjC,OACE,oBAAQC,UAAWC,EAAAA,OAAe,WAChC,0BACE,gBAAID,UAAWC,EAAAA,KAAa,WAC1B,yBACE,SAAC,KAAO,CACNC,GAAG,IACHF,UAAW,YAAW,SAARG,SACDF,EAAAA,YAAiBG,CAAS,EAEvCC,KAAG,WACJ,YAIH,yBACE,SAAC,KAAO,CACNH,GAAG,UACHF,UAAW,YAAW,SAARG,SACDF,EAAAA,YAAiBG,CAAS,EACtC,SACF,cAIH,yBACE,SAAC,KAAO,CACNF,GAAG,cACHF,UAAW,YAAW,SAARG,SACDF,EAAAA,YAAiBG,CAAS,EACtC,SACF,kBAIDN,IACA,yBACE,SAAC,KAAO,CACNI,GAAG,mBACHF,UAAW,YAAW,SAARG,SACDF,EAAAA,YAAiBG,CAAS,EACtC,SACF,qBAKJN,IACC,yBACE,SAAC,KAAI,CAACQ,OAAO,UAAUC,OAAO,OAAM,UAClC,4BAAQ,qBAMlB,SAACC,EAAA,EAAgB,MAGvB,C,sFCxBA,UAjCA,WACE,IAAMC,GAAaC,EAAAA,EAAAA,MAEbZ,GAAMa,EAAAA,EAAAA,MACNC,GAAOC,EAAAA,EAAAA,MAkBb,OAfAC,EAAAA,EAAAA,YAAU,WACR,GAAIhB,EAGJ,GAAW,YAARA,EAAH,CAIA,IAAMiB,GAAUC,EAAAA,EAAAA,MAChBC,QAAQC,IAAIH,GACZI,YAAW,WACTP,EAAO,KAAK,CAACN,OAAO,UAAUC,OAAO,QACvC,GAAEQ,EALF,MAFEH,EAAO,KAAK,CAACN,OAAO,UAAUC,OAAO,QAQzC,GAAE,CAACT,EAAMc,KAGP,iCACE,SAAC,IAAc,KACf,4BACwB,YAArBH,EAAWW,QAAuB,uBAAG,gBACtC,SAAC,KAAM,SAIf,C","sources":["webpack://react-complete-guide/./src/components/MainNavigation.module.css?1d59","components/MainNavigation.js","pages/Root.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"header\":\"MainNavigation_header__+mkVP\",\"list\":\"MainNavigation_list__yu8vD\",\"active\":\"MainNavigation_active__wp-uE\"};","import { Form, NavLink, useRouteLoaderData } from \"react-router-dom\";\n\nimport classes from \"./MainNavigation.module.css\";\nimport NewsletterSignup from \"./NewsletterSignup\";\n\nfunction MainNavigation() {\n  const token = useRouteLoaderData(\"root\");\n  return (\n    <header className={classes.header}>\n      <nav>\n        <ul className={classes.list}>\n          <li>\n            <NavLink\n              to=\"/\"\n              className={({ isActive }) =>\n                isActive ? classes.active : undefined\n              }\n              end\n            >\n              Home\n            </NavLink>\n          </li>\n          <li>\n            <NavLink\n              to=\"/events\"\n              className={({ isActive }) =>\n                isActive ? classes.active : undefined\n              }\n            >\n              Events\n            </NavLink>\n          </li>\n          <li>\n            <NavLink\n              to=\"/newsletter\"\n              className={({ isActive }) =>\n                isActive ? classes.active : undefined\n              }\n            >\n              Newsletter\n            </NavLink>\n          </li>\n          {!token && (\n            <li>\n              <NavLink\n                to=\"/auth?mode=login\"\n                className={({ isActive }) =>\n                  isActive ? classes.active : undefined\n                }\n              >\n                Authentication\n              </NavLink>\n            </li>\n          )}\n          {token && (\n            <li>\n              <Form action=\"/logout\" method=\"post\">\n                <button>logout</button>\n              </Form>\n            </li>\n          )}\n        </ul>\n      </nav>\n      <NewsletterSignup />\n    </header>\n  );\n}\n\nexport default MainNavigation;\n","\nimport { useEffect } from 'react'\nimport { Outlet } from 'react-router-dom';\n\nimport { useNavigation } from 'react-router-dom';\nimport MainNavigation from '../components/MainNavigation';\nimport { expiredToken } from '../utils/auth';\nimport { useSubmit,useLoaderData } from 'react-router-dom';\n\nfunction RootLayout() {\n  const navigation = useNavigation();\n\n  const token=useLoaderData()\n  const submit=useSubmit()\n\n\n  useEffect(() => {\n    if(!token){\n      return\n    }\n    if(token==='EXPIRED'){\n      submit(null,{action:'/logout',method:'post'})\n      return\n    }\n    const tokentime=expiredToken()\n    console.log(tokentime)\n    setTimeout(() => {\n      submit(null,{action:'/logout',method:'post'})\n    },tokentime)\n  },[token,submit])\n\n  return (\n    <>\n      <MainNavigation />\n      <main>\n        {navigation.state === 'loading' && <p>Loading...</p>}\n        <Outlet />\n      </main>\n    </>\n  );\n}\n\nexport default RootLayout;\n"],"names":["token","useRouteLoaderData","className","classes","to","isActive","undefined","end","action","method","NewsletterSignup","navigation","useNavigation","useLoaderData","submit","useSubmit","useEffect","tokentime","expiredToken","console","log","setTimeout","state"],"sourceRoot":""}